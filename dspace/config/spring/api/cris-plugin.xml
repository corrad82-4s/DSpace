<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

	<util:constant id="CrisConsumer-SOURCE_INTERNAL" static-field="org.dspace.authority.filler.AuthorityImportFillerService.SOURCE_INTERNAL" />

	<bean class="org.dspace.authority.filler.AuthorityImportFillerServiceImpl"/>

	<bean id="org.dspace.authority.filler.AuthorityImportFillerHolder" class="org.dspace.authority.filler.AuthorityImportFillerHolder">
		<property name="fillers">
			<map>
				<entry key-ref="CrisConsumer-SOURCE_INTERNAL">
					<bean class="org.dspace.authority.filler.ItemMetadataImportFiller" parent="fullItemMetadataConfiguration" />
				</entry>
			</map>
		</property>
	</bean>

	<bean class="org.dspace.authority.filler.ItemMetadataImportFiller" id="fullItemMetadataConfiguration" abstract="true">
		<property name="itemService" ref="org.dspace.content.ItemServiceImpl" />
		<property name="configurations">
			<map>
				<entry key="dc.contributor.author">
					<bean class="org.dspace.authority.filler.MetadataConfiguration">
						<property name="updateEnabled" value="false" />
						<property name="mapping">
							<map>
								<entry key="oairecerif.author.affiliation">
									<bean class="org.dspace.authority.filler.MetadataConfiguration.MappingDetails">
										<property name="visibility" value="1" />
										<property name="targetMetadata" value="person.affiliation.name" />
									</bean>
								</entry>
							</map>
						</property>
					</bean>
				</entry>
				<entry key="dc.contributor.editor">
					<bean class="org.dspace.authority.filler.MetadataConfiguration">
						<property name="updateEnabled" value="false" />
						<property name="mapping">
							<map>
								<entry key="oairecerif.editor.affiliation">
									<bean class="org.dspace.authority.filler.MetadataConfiguration.MappingDetails">
										<property name="visibility" value="1" />
										<property name="targetMetadata" value="person.affiliation.name" />
									</bean>
								</entry>
							</map>
						</property>
					</bean>
				</entry>
				<entry key="dc.relation.ispartof">
					<bean class="org.dspace.authority.filler.MetadataConfiguration">
						<property name="updateEnabled" value="false" />
						<property name="mapping">
							<map>
								<entry key="dc.relation.issn">
									<bean class="org.dspace.authority.filler.MetadataConfiguration.MappingDetails">
										<property name="visibility" value="1" />
									</bean>
								</entry>
							</map>
						</property>
					</bean>
				</entry>
				<entry key="dc.relation">
					<bean class="org.dspace.authority.filler.MetadataConfiguration">
						<property name="updateEnabled" value="false" />
						<property name="mapping">
							<map>
								<entry key="oaire.awardNumber">
									<bean class="org.dspace.authority.filler.MetadataConfiguration.MappingDetails">
										<property name="visibility" value="1" />
									</bean>
								</entry>
							</map>
						</property>
					</bean>
				</entry>
			</map>
		</property>
	</bean>

	<bean class="org.dspace.authority.service.ItemSearcherMapper" name="org.dspace.authority.service.ItemSearcherMapper">
		<constructor-arg index="0">
			<map>
				<entry key="UUID">
					<bean class="org.dspace.authority.service.impl.ItemSearcherById"></bean>
				</entry>
				<entry key="ORCID">
					<bean class="org.dspace.authority.service.impl.ItemSearcherByMetadata">
						<constructor-arg ref="org.dspace.discovery.SearchService"></constructor-arg>
						<constructor-arg value="person.identifier.orcid"></constructor-arg>
					</bean>
				</entry>
				<entry key="RID">
					<bean class="org.dspace.authority.service.impl.ItemSearcherByMetadata">
						<constructor-arg ref="org.dspace.discovery.SearchService"></constructor-arg>
						<constructor-arg value="person.identifier.rid"></constructor-arg>
					</bean>
				</entry>
				<entry key="ISNI">
					<bean class="org.dspace.authority.service.impl.ItemSearcherByMetadata">
						<constructor-arg ref="org.dspace.discovery.SearchService"></constructor-arg>
						<constructor-arg value="person.identifier.isni"></constructor-arg>
					</bean>
				</entry>
				<entry key="DOI">
					<bean class="org.dspace.authority.service.impl.ItemSearcherByMetadata">
						<constructor-arg ref="org.dspace.discovery.SearchService"></constructor-arg>
						<constructor-arg value="dc.identifier.doi"></constructor-arg>
					</bean>
				</entry>
                <entry key="SHADOW">
                    <bean class="org.dspace.authority.service.impl.ItemSearchByShadowCopyRelation" />
                </entry>
			</map>
		</constructor-arg>
		<constructor-arg index="1">
			<bean class="org.dspace.authority.service.impl.ItemSearcherById"></bean>
		</constructor-arg>
	</bean>
	
	<bean class="org.dspace.authority.service.impl.ItemSearchServiceImpl" name="org.dspace.authority.service.ItemSearchService"/>
	
</beans>